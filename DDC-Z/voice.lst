<<<<<<< HEAD
C51 COMPILER V9.54   VOICE                                                                 06/04/2017 11:00:45 PAGE 1   
=======
C51 COMPILER V9.54   VOICE                                                                 11/14/2016 13:39:16 PAGE 1   
>>>>>>> c6e65e4f0b4864e969ea86603842dc8b6ee1929b


C51 COMPILER V9.54, COMPILATION OF MODULE VOICE
OBJECT MODULE PLACED IN .\voice.obj
COMPILER INVOKED BY: D:\Program Files\Keil_v5\C51\BIN\C51.EXE ..\Library\voice.c COMPACT ROM(COMPACT) OPTIMIZE(8,SPEED) 
                    -BROWSE INCDIR(..\Library) DEBUG OBJECTEXTEND PRINT(.\voice.lst) TABS(2) OBJECT(.\voice.obj)

line level    source

   1          /*---------------------------------------------------
   2            voice.c (v1.00)
   3            通用语音文件
   4            201603
   5          ---------------------------------------------------*/
   6          
   7          #include "main.h"
   8          #include "port.h"
   9          
  10          #include "voice.h"
  11          #include "Delay.h"
  12          #include "communication.h"
  13          #include "Other.h"
  14          #include "battery.h"
  15          
  16          /*------ private variable --------------------------*/
  17          tByte key_rotate_on_speech_number = 1;    // 循环报两段开机语音
  18                                                      
  19          extern bit flashing_flag;
  20          extern tByte Open_action_flag;    
  21          extern bit slave_nearby_actioned_flag;
  22          extern bit ID_speeched_flag;
  23          extern tByte Check_Motobattery_count;
  24          extern bit Check_Motobattery_flag;
  25          extern bit EN_host_stolen_alarming;
  26          extern tWord load_battery_result;
  27          extern bit fell_flag;           
  28          extern bit raised_flag;       
  29          extern tWord ADC_check_result;    
  30          extern bit battery_stolen_EN;     
  31          extern bit never_alarm_speech;
  32          extern bit Speech_closed_G;
  33          extern tByte Speech_closed_time;
  34          
  35          
  36          /*--------------------------------------------------
  37            SC_Speech()
  38            按段数发送脉冲，即可报第几段语音。
  39          ---------------------------------------------------*/
  40          void SC_Speech(tByte cnt)
<<<<<<< HEAD
  41            {
  42   1        tByte ii;
  43   1        SC_RST = 1;
  44   1        Delay_50ms();
  45   1        SC_RST = 0;
  46   1        Delay_50ms();
  47   1        for(ii=0; ii < cnt; ii++)
  48   1          {
  49   2          SC_DATA = 1;
  50   2          delay_us(20);
  51   2          SC_DATA = 0;
  52   2          delay_us(20);
  53   2          }
  54   1        }
C51 COMPILER V9.54   VOICE                                                                 06/04/2017 11:00:45 PAGE 2   
=======
  41             {
  42   1         tByte ii;
  43   1         SC_RST = 1;
  44   1         Delay_50ms();
  45   1         SC_RST = 0;
  46   1         Delay_50ms();
  47   1         for(ii=0; ii < cnt; ii++)
  48   1            {
  49   2            SC_DATA = 1;
  50   2            delay_us(20);
  51   2            SC_DATA = 0;
  52   2            delay_us(20);
  53   2            }
  54   1         }
C51 COMPILER V9.54   VOICE                                                                 11/14/2016 13:39:16 PAGE 2   
>>>>>>> c6e65e4f0b4864e969ea86603842dc8b6ee1929b

  55          
  56          /*-------------------------------------------------
  57            InitVoice()
  58            Initialise Voice IC, shielding voice by accident on powerup.
  59          --------------------------------------------------*/
  60          void InitVoice()
  61            {
  62   1        P14=0;
  63   1        SC_DATA = 0;
  64   1        SC_RST = 1;
  65   1        delay_us(350); 
  66   1        SC_RST = 0;
  67   1        delay_us(350);
  68   1      //  P14 = 1;  
  69   1        voice_EN = 0;       // Close speaker.
  70   1        }
  71          
  72          /*----------------------------------------------------
  73            key_rotate_on_speech()
  74            钥匙旋转至ON后，语音提示
  75          -----------------------------------------------------*/
  76          void key_rotate_on_speech(void)
  77            {
  78   1        #ifdef Taili
                voice_EN = 1;
                SC_Speech(26);  
                Delay(100);
                voice_EN = 0;
                #endif
  84   1      
  85   1        #ifdef Shengbaolong
                voice_EN = 1;
                SC_Speech(5);  
                Delay(30);
                SC_Speech(6);  
                Delay(30);
                SC_Speech(4);  
                Delay(100); 
                voice_EN = 0; 
                #endif
  95   1        }
  96            
  97          /*-----------------------------------------------------
  98            key_rotate_off_speech()
  99            钥匙旋转到OFF后，语音提示
 100          void key_rotate_off_speech(void)
 101            {
 102            voice_EN = 1;
 103            SC_Speech(13);
 104            Delay(40);
 105            voice_EN = 0;
 106            }
 107          ------------------------------------------------------*/
 108          
 109          /*----------------------------------------------------
 110            motorBAT_low_speech()
 111            主机电瓶电量低于最小限定值，语音提示电量不足。
 112          -----------------------------------------------------*/
 113          void motorBAT_low_speech(void)
<<<<<<< HEAD
 114            {
 115   1        voice_EN = 1;
 116   1        SC_Speech(4);
C51 COMPILER V9.54   VOICE                                                                 06/04/2017 11:00:45 PAGE 3   
=======
 114             {
 115   1         voice_EN = 1;
 116   1         SC_Speech(4);
C51 COMPILER V9.54   VOICE                                                                 11/14/2016 13:39:16 PAGE 3   
>>>>>>> c6e65e4f0b4864e969ea86603842dc8b6ee1929b

 117   1        Delay(80);
 118   1        voice_EN = 0;
 119   1        }
 120          
 121          /*----------------------------------------------------
 122            Battery_hint()
 123            第一次碰主机，会有一句提示语音
 124          --------------------------------------------------------*/
 125          void Battery_hint(void)
 126            {
 127   1        voice_EN = 1;
 128   1        SC_Speech(24); 
 129   1        Delay(1);
 130   1        voice_EN = 0;
 131   1        }
 132          
 133          /*----------------------------------------------------
 134            ID_speech()
 135            第一次碰主机，会有一句提示语音
 136          --------------------------------------------------------*/
 137          void ID_speech(void)
<<<<<<< HEAD
 138            {
 139   1        voice_EN = 1;
 140   1        SC_Speech(26); 
 141   1        Delay(30);
 142   1        voice_EN = 0;
 143   1      //  Speech_closed_G = 1;
 144   1      //  Speech_closed_time = 0;
 145   1        }
 146          
 147          /*----------------------------------------------------
 148            Self_learn_speech()
 149            第一次碰主机，会有一句提示语音
 150          --------------------------------------------------------*/
 151          void Self_learn_speech(void)
 152            {
 153   1        voice_EN = 1;
 154   1        Speech_closed_time = 0;
 155   1        SC_Speech(27); 
 156   1        Delay(30);
 157   1        voice_EN = 0;
 158   1        flashing_flag = 0;
 159   1        }
 160          
 161          /*----------------------------------------------------
 162            host_touch_speech()
 163            第一次碰主机，会有一句提示语音
 164          --------------------------------------------------------*/
 165          void host_touch_speech(void)
 166            {
 167   1        voice_EN = 1;
 168   1        SC_Speech(2);  
 169   1        Delay(90);
 170   1        voice_EN = 0;
 171   1        Delay(30);
 172   1        }
 173          
 174          /*-----------------------------------------------------
 175            host_2ndtouch_speech()
 176            第二次触碰主机，再报一个提示语音
 177          -------------------------------------------------------*/
 178          void host_2ndtouch_speech(void)
C51 COMPILER V9.54   VOICE                                                                 06/04/2017 11:00:45 PAGE 4   

 179            {
 180   1        voice_EN = 1;
 181   1        SC_Speech(22);  
 182   1        Delay(140);
 183   1        voice_EN = 0;
 184   1      //  Delay(10);
 185   1        }
 186            
 187          /*----------------------------------------------------
 188            stolen_alarm_speech()
 189            判断为被盗的时候，发出报警语音第一段
 190          ----------------------------------------------------*/
 191          void stolen_alarm_speech1(void)
 192            {
 193   1        voice_EN = 1;
 194   1        SC_Speech(7); 
 195   1        Delay(60);
 196   1        voice_EN = 0; 
 197   1        }
 198          
 199          /*----------------------------------------------------
 200            stolen_alarm_speech()
 201            判断为被盗的时候，发出报警语音第二段
 202          ----------------------------------------------------*/
 203           void stolen_alarm_speech2(void)
 204            {
 205   1        voice_EN = 1;
 206   1        SC_Speech(3); 
 207   1        Delay(180);
 208   1        voice_EN = 0;
 209   1        Delay(20);
 210   1        }
 211          
 212          /*----------------------------------------------------
 213            open_lock_speech()
 214            附机在主机附近，通过认证后，语音提示
 215          -----------------------------------------------------*/
 216          void open_lock_speech(void)
 217            {
 218   1        #ifdef Tailing
                voice_EN = 1;
                SC_Speech(24);  
                Delay(30);
                SC_Speech(6);  
                Delay(40);
                voice_EN = 0;
                #endif
 226   1      
 227   1        // 车锁已打开
 228   1        voice_EN=1;
 229   1        Speech_closed_time = 0;
 230   1        SC_Speech(9); 
 231   1        Delay(60);
 232   1        voice_EN=0;
 233   1        }
 234          
 235          /*----------------------------------------------------
 236            close_lock_speech()
 237            判断附机离开，语音提示
 238          -----------------------------------------------------*/
 239          void close_lock_speech(void)
 240            {
C51 COMPILER V9.54   VOICE                                                                 06/04/2017 11:00:45 PAGE 5   

 241   1        voice_EN = 1;
 242   1        SC_Speech(10);  
 243   1        Delay(60);
 244   1        voice_EN = 0;
 245   1        }
 246          
 247          /*----------------------------------------------------
 248            battery_stolen_speech()
 249            主机检测到电平不在时，语音提示电平被盗
 250          -----------------------------------------------------*/
 251          void battery_stolen_speech(void)
 252            {
 253   1        voice_EN = 1;
 254   1        SC_Speech(15);  
 255   1        Delay(100);
 256   1        voice_EN = 0;
 257   1        }
 258          
 259          /*----------------------------------------------------
 260            Cutting_Wire_Voice()
 261            有人剪断锁线的时候，播报的语音
 262          -----------------------------------------------------*/
 263          void Cutting_Wire_Voice(void)
 264            {
 265   1        voice_EN = 1;
 266   1        SC_Speech(28);  
 267   1        Delay(120);
 268   1        voice_EN = 0;
 269   1        }
 270          
 271          /*----------------------------------------------------
 272            Product_Test_Voice()
 273            测试程序中的语音提示
 274          -----------------------------------------------------*/
 275          void Product_Test_Voice(void)
 276            {
 277   1        voice_EN = 1;
 278   1        SC_Speech(21);  
 279   1        Delay(150);
 280   1        voice_EN = 0;
 281   1        }
 282          
 283          /*---------------------------------------------------------------
 284            Battery_low_alarm_speech()
 285            用于附机，当电池电量低于一定值，语音提示
 286          ----------------------------------------------------------------*/
 287          void Battery_low_alarm_speech(void)
 288            {
 289   1        voice_EN = 1;
 290   1        SC_Speech(6);
 291   1        Delay(80);
 292   1        voice_EN = 0;
 293   1        }
 294          
 295          /*---------------------------------------------------------------
 296            Battery_high_alarm_speech()
 297            用于附机，电量高于一定值的时候，语音提示
 298          ----------------------------------------------------------------*/
 299          void Battery_high_alarm_speech(void)
 300            {
 301   1        voice_EN = 1;
 302   1        SC_Speech(5);
C51 COMPILER V9.54   VOICE                                                                 06/04/2017 11:00:45 PAGE 6   

 303   1        Delay(50);
 304   1        voice_EN = 0;
 305   1        }
 306          
 307          /*-------------------------------------------------------------
 308            Alarm_stolen_speech()
 309            用于附机，主机被盗报警
 310          ---------------------------------------------------------------*/
 311          void Alarm_stolen_speech(void)
 312            {
 313   1        voice_EN = 1;
 314   1        SC_Speech(4);
 315   1        Delay(180);
 316   1        voice_EN = 0;
 317   1        }
 318            
 319          /*--------------------------------------------------------------
 320            Alarm_raised_speech()
 321            用于附机，主机被抬起报警
 322          ---------------------------------------------------------------*/
 323          void Alarm_raised_speech(void)
 324            {
 325   1        voice_EN = 1;
 326   1        SC_Speech(3);
 327   1        Delay(140);
 328   1        voice_EN = 0;
 329   1        }
 330            
 331          /*--------------------------------------------------------------
 332            Alarm_fell_speech()
 333            用于附机，主机倒地报警
 334          ----------------------------------------------------------------*/
 335          void Alarm_fell_speech(void)
 336            {
 337   1        voice_EN = 1;
 338   1        SC_Speech(2);
 339   1        Delay(120);
 340   1        voice_EN = 0;
 341   1        }
 342            
 343          /*---------------------------------------------------------------
 344            Host_battery_high_alarm_speech()
 345            用于附机，主机电量充满提示
 346          ---------------------------------------------------------------*/
 347          void Host_battery_high_alarm_speech(void)
 348            {
 349   1        voice_EN = 1;
 350   1        SC_Speech(11);  
 351   1        Delay(80);
 352   1        voice_EN = 0;
 353   1        }
 354          
 355          /*---------------------------------------------------------------
 356            battery_stolen_speech_F3()
 357            用于附机，主机电池被盗报警
 358          ---------------------------------------------------------------*/
 359          void battery_stolen_speech_F3(void)
 360            {
 361   1        voice_EN = 1;
 362   1        SC_Speech(7);  
 363   1        Delay(50);
 364   1        voice_EN = 0;
C51 COMPILER V9.54   VOICE                                                                 06/04/2017 11:00:45 PAGE 7   

 365   1        }
 366            
 367          /*---------------------------------------------------------------
 368            wire_broken_speech(void)
 369            用于附机，主机锁线被剪断报警
 370          ----------------------------------------------------------------*/
 371          void wire_broken_speech(void)
 372            {
 373   1        voice_EN = 1;
 374   1        SC_Speech(8);  
 375   1        Delay(80);
 376   1        voice_EN = 0; 
 377   1        }
 378          
 379          /*---------------------------------------------------------------
 380            lock_rotated_on_speech(void)
 381            用于附机，主机锁线被剪断报警
 382          ----------------------------------------------------------------*/
 383          void lock_rotated_on_speech(void)
 384            {
 385   1        voice_EN = 1;
 386   1        SC_Speech(12);  
 387   1        Delay(80);
 388   1        voice_EN = 0; 
 389   1        }
 390          /*---------------------------------------------------------------
 391            lock_rotated_off_speech(void)
 392            用于附机，主机锁线被剪断报警
 393          ----------------------------------------------------------------*/
 394          void lock_rotated_off_speech(void)
 395            {
 396   1        voice_EN = 1;
 397   1        SC_Speech(13);  
 398   1        Delay(80);
 399   1        voice_EN = 0; 
 400   1        }
 401          
 402          /*-------------------------------------------------------------
 403            IDcerted_speech()
 404          -------------------------------------------------------------*/
 405          void IDcerted_speech(void)
 406            {
 407   1        #ifdef ID
 408   1        ID_speech();
 409   1        #endif
 410   1        
 411   1        #ifdef WX
                if((Open_action_flag == 0)&&(slave_nearby_actioned_flag == 0)&&(ID_speeched_flag == 0))
                  {   
                  ID_speech();
                  
                  ID_speeched_flag = 1;
                  }
                #endif
 419   1        }
 420          /*-------------------------------------------------------------
 421            Accumulator_voice_promot()
 422          -------------------------------------------------------------*/ 
 423          void Accumulator_voice_promot(void)
 424            {
 425   1        if(++Check_Motobattery_count > 3)
 426   1          {
C51 COMPILER V9.54   VOICE                                                                 06/04/2017 11:00:45 PAGE 8   
=======
 138             {
 139   1         voice_EN = 1;
 140   1         SC_Speech(26); 
 141   1         Delay(30);
 142   1         Speech_closed_G = 1;
 143   1         Speech_closed_time = 0;
 144   1         }
 145          
 146          /*----------------------------------------------------
 147             Self_learn_speech()
 148             第一次碰主机，会有一句提示语音
 149          --------------------------------------------------------*/
 150          void Self_learn_speech(void)
 151             {
 152   1         voice_EN = 1;
 153   1         Speech_closed_time = 0;
 154   1         SC_Speech(27); 
 155   1         Delay(30);
 156   1         voice_EN = 0;
 157   1         flashing_flag = 0;
 158   1         }
 159          
 160          /*----------------------------------------------------
 161             host_touch_speech()
 162             第一次碰主机，会有一句提示语音
 163          --------------------------------------------------------*/
 164          void host_touch_speech(void)
 165             {
 166   1         voice_EN = 1;
 167   1         SC_Speech(2);  
 168   1         Delay(90);
 169   1         voice_EN = 0;
 170   1         Delay(30);
 171   1         }
 172          
 173          /*-----------------------------------------------------
 174             host_2ndtouch_speech()
 175             第二次触碰主机，再报一个提示语音
 176          -------------------------------------------------------*/
 177          void host_2ndtouch_speech(void)
 178             {
C51 COMPILER V9.54   VOICE                                                                 11/14/2016 13:39:16 PAGE 4   

 179   1         voice_EN = 1;
 180   1         SC_Speech(22);  
 181   1         Delay(140);
 182   1         voice_EN = 0;
 183   1      // Delay(10);
 184   1         }
 185             
 186          /*----------------------------------------------------
 187             stolen_alarm_speech()
 188             判断为被盗的时候，发出报警语音第一段
 189          ----------------------------------------------------*/
 190          void stolen_alarm_speech1(void)
 191             {
 192   1         voice_EN = 1;
 193   1         SC_Speech(7); 
 194   1         Delay(60);
 195   1         voice_EN = 0; 
 196   1         }
 197          
 198          /*----------------------------------------------------
 199             stolen_alarm_speech()
 200             判断为被盗的时候，发出报警语音第二段
 201          ----------------------------------------------------*/
 202           void stolen_alarm_speech2(void)
 203             {
 204   1         voice_EN = 1;
 205   1         SC_Speech(3); 
 206   1         Delay(180);
 207   1         voice_EN = 0;
 208   1         Delay(20);
 209   1         }
 210          
 211          /*----------------------------------------------------
 212             open_lock_speech()
 213             附机在主机附近，通过认证后，语音提示
 214          -----------------------------------------------------*/
 215          void open_lock_speech(void)
 216             {
 217   1         #ifdef Tailing
                 voice_EN = 1;
                 SC_Speech(24);  
                 Delay(30);
                 SC_Speech(6);  
                 Delay(40);
                 voice_EN = 0;
                 #endif
 225   1      
 226   1         // 车锁已打开
 227   1         voice_EN=1;
 228   1         Speech_closed_time = 0;
 229   1         SC_Speech(9); 
 230   1         Delay(60);
 231   1         voice_EN=0;
 232   1         }
 233          
 234          /*----------------------------------------------------
 235             close_lock_speech()
 236             判断附机离开，语音提示
 237          -----------------------------------------------------*/
 238          void close_lock_speech(void)
 239             {
 240   1         voice_EN = 1;
C51 COMPILER V9.54   VOICE                                                                 11/14/2016 13:39:16 PAGE 5   

 241   1         SC_Speech(10);  
 242   1         Delay(60);
 243   1         voice_EN = 0;
 244   1         }
 245          
 246          /*----------------------------------------------------
 247             battery_stolen_speech()
 248             主机检测到电平不在时，语音提示电平被盗
 249          -----------------------------------------------------*/
 250          void battery_stolen_speech(void)
 251             {
 252   1         voice_EN = 1;
 253   1         SC_Speech(15);  
 254   1         Delay(100);
 255   1         voice_EN = 0;
 256   1         }
 257          
 258          /*----------------------------------------------------
 259             Cutting_Wire_Voice()
 260             有人剪断锁线的时候，播报的语音
 261          -----------------------------------------------------*/
 262          void Cutting_Wire_Voice(void)
 263             {
 264   1         voice_EN = 1;
 265   1         SC_Speech(28);  
 266   1         Delay(120);
 267   1         voice_EN = 0;
 268   1         }
 269          
 270          /*----------------------------------------------------
 271             Product_Test_Voice()
 272             测试程序中的语音提示
 273          -----------------------------------------------------*/
 274          void Product_Test_Voice(void)
 275             {
 276   1         voice_EN = 1;
 277   1         SC_Speech(21);  
 278   1         Delay(150);
 279   1         voice_EN = 0;
 280   1         }
 281          
 282          /*---------------------------------------------------------------
 283             Battery_low_alarm_speech()
 284             用于附机，当电池电量低于一定值，语音提示
 285          ----------------------------------------------------------------*/
 286          void Battery_low_alarm_speech(void)
 287             {
 288   1         voice_EN = 1;
 289   1         SC_Speech(6);
 290   1         Delay(80);
 291   1         voice_EN = 0;
 292   1         }
 293          
 294          /*---------------------------------------------------------------
 295             Battery_high_alarm_speech()
 296             用于附机，电量高于一定值的时候，语音提示
 297          ----------------------------------------------------------------*/
 298          void Battery_high_alarm_speech(void)
 299             {
 300   1         voice_EN = 1;
 301   1         SC_Speech(5);
 302   1         Delay(50);
C51 COMPILER V9.54   VOICE                                                                 11/14/2016 13:39:16 PAGE 6   

 303   1         voice_EN = 0;
 304   1         }
 305          
 306          /*-------------------------------------------------------------
 307             Alarm_stolen_speech()
 308             用于附机，主机被盗报警
 309          ---------------------------------------------------------------*/
 310          void Alarm_stolen_speech(void)
 311             {
 312   1         voice_EN = 1;
 313   1         SC_Speech(4);
 314   1         Delay(180);
 315   1         voice_EN = 0;
 316   1         }
 317             
 318          /*--------------------------------------------------------------
 319             Alarm_raised_speech()
 320             用于附机，主机被抬起报警
 321          ---------------------------------------------------------------*/
 322          void Alarm_raised_speech(void)
 323             {
 324   1         voice_EN = 1;
 325   1         SC_Speech(3);
 326   1         Delay(140);
 327   1         voice_EN = 0;
 328   1         }
 329             
 330          /*--------------------------------------------------------------
 331             Alarm_fell_speech()
 332             用于附机，主机倒地报警
 333          ----------------------------------------------------------------*/
 334          void Alarm_fell_speech(void)
 335             {
 336   1         voice_EN = 1;
 337   1         SC_Speech(2);
 338   1         Delay(120);
 339   1         voice_EN = 0;
 340   1         }
 341             
 342          /*---------------------------------------------------------------
 343             Host_battery_high_alarm_speech()
 344             用于附机，主机电量充满提示
 345          ---------------------------------------------------------------*/
 346          void Host_battery_high_alarm_speech(void)
 347             {
 348   1         voice_EN = 1;
 349   1         SC_Speech(11);  
 350   1         Delay(80);
 351   1         voice_EN = 0;
 352   1         }
 353          
 354          /*---------------------------------------------------------------
 355             battery_stolen_speech_F3()
 356             用于附机，主机电池被盗报警
 357          ---------------------------------------------------------------*/
 358          void battery_stolen_speech_F3(void)
 359             {
 360   1         voice_EN = 1;
 361   1         SC_Speech(7);  
 362   1         Delay(50);
 363   1         voice_EN = 0;
 364   1         }
C51 COMPILER V9.54   VOICE                                                                 11/14/2016 13:39:16 PAGE 7   

 365             
 366          /*---------------------------------------------------------------
 367             wire_broken_speech(void)
 368             用于附机，主机锁线被剪断报警
 369          ----------------------------------------------------------------*/
 370          void wire_broken_speech(void)
 371             {
 372   1         voice_EN = 1;
 373   1         SC_Speech(8);  
 374   1         Delay(80);
 375   1         voice_EN = 0;  
 376   1         }
 377          
 378          /*---------------------------------------------------------------
 379             lock_rotated_on_speech(void)
 380             用于附机，主机锁线被剪断报警
 381          ----------------------------------------------------------------*/
 382          void lock_rotated_on_speech(void)
 383             {
 384   1         voice_EN = 1;
 385   1         SC_Speech(12);  
 386   1         Delay(80);
 387   1         voice_EN = 0;  
 388   1         }
 389          /*---------------------------------------------------------------
 390             lock_rotated_off_speech(void)
 391             用于附机，主机锁线被剪断报警
 392          ----------------------------------------------------------------*/
 393          void lock_rotated_off_speech(void)
 394             {
 395   1         voice_EN = 1;
 396   1         SC_Speech(13);  
 397   1         Delay(80);
 398   1         voice_EN = 0;  
 399   1         }
 400          
 401          /*-------------------------------------------------------------
 402             IDcerted_speech()
 403          -------------------------------------------------------------*/
 404          void IDcerted_speech(void)
 405             {
 406   1         #ifdef ID
 407   1         ID_speech();
 408   1         #endif
 409   1         
 410   1         #ifdef WX
                 if((Open_action_flag == 0)&&(slave_nearby_actioned_flag == 0)&&(ID_speeched_flag == 0))
                    {     
                    ID_speech();
                    
                    ID_speeched_flag = 1;
                    }
                 #endif
 418   1         }
 419          /*-------------------------------------------------------------
 420             Accumulator_voice_promot()
 421          -------------------------------------------------------------*/   
 422          void Accumulator_voice_promot(void)
 423             {
 424   1         if(++Check_Motobattery_count > 3)
 425   1            {
 426   2            Check_Motobattery_count = 5;
C51 COMPILER V9.54   VOICE                                                                 11/14/2016 13:39:16 PAGE 8   
>>>>>>> c6e65e4f0b4864e969ea86603842dc8b6ee1929b

 427   2          Check_Motobattery_count = 5;
 428   2          if((Check_Motobattery_flag == 1)&&(EN_host_stolen_alarming == 0)&&(fell_flag == 0)&&(raised_flag == 0)&&
             -(battery_stolen_EN == 0))
 429   2            {
 430   3            #ifdef BroadcastBattery
                    Broadcast_battery();    
                    #endif
 433   3            Check_Motobattery_flag = 0;
 434   3            }
 435   2          }
 436   1        }
 437          
 438          /*--------------------------------------------------------
 439            Enter_noguard_voice()
 440          --------------------------------------------------------*/
 441          void Enter_noguard_voice()
 442            {
 443   1        if(never_alarm_speech == 1)
 444   1          {
 445   2          never_alarm_speech = 0;
 446   2          Self_learn_speech();          
 447   2          } 
 448   1        }
 449            
 450          /*---------------------------------------------------
 451            end of file
 452          ----------------------------------------------------*/


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    486    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =      1       2
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
